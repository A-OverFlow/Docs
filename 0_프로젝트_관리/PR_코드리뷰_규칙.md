# PR / 코드 리뷰 규칙 
AOF 팀의 무물보 프로젝트를 진행하면서 필요한 PR, 코드리뷰 규칙에 대한 문서입니다. 

<br>

# Pull Request 
## PR 제목 
제목은 한 줄에 "[타입] 이슈 요약 (#이슈번호)"의 형식으로 진행합니다. 
```md
[bug] oAuth 로그인 버그 수정 (#34)
```
|타입|의미|
|------|---|
|feat|새로운 기능 추가|
|bug|버그 수정|
|docs|문서 관련 변경|
|style|코드 스타일 변경|
|refactor|리팩토링|
|test|테스트 코드 추가/수정|
|rename|파일 혹은 폴더명 수정, 디렉토리 이동|
|remove|파일 삭제|

## PR 템플릿 
PR 템플릿은 angular PR Template을 기반으로 작성하였습니다.  
(https://github.com/angular/angular/blob/main/.github/PULL_REQUEST_TEMPLATE.md)   
이유는 카테고리 분리가 잘 잡혀있어서 한 눈에 들어오고, 체크리스트 방식이라 간단하게 작성 가능하기 때문입니다. 

```md
## PR Checklist
<!-- 체크리스트 여부 표시는 해당 사항만 공백 없이 'v' 로 체크해주세요. -->
- [ ] 테스트 코드 추가 여부
- [ ] 문서 작성/업데이트 여부


## PR Type
- [ ] 버그 수정 (Bugfix)
- [ ] 기능 (Feature)
- [ ] 코드 포맷팅 (Code style update)
- [ ] 리팩토링 (no functional changes, no api changes)
- [ ] 배포 관련 수정 (Release)
- [ ] CI/CD related changes
- [ ] 문서 수정
- [ ] 구조 변경 (application / infrastructure changes)


## 이슈 번호 
close #이슈번호

## 설명
N/A

## 기타 전달 사항 (To reviewers)
N/A

```
### 자동 PR 템플릿 등록
repository 별로 PR 템플릿을 지정하여 사용합니다. 
파일 명은 "pull_request_template.md"로 생성해야 자동 템플릿 적용 가능합니다. 
```md
.github/pull_request_template.md
```

## PR 코멘트 작성 방법
- 무슨 이유로 코드를 변경했는지
- 어떤 위험이나 장애가 발견되었는지
- 어떤 부분에 리뷰어가 집중하면 좋을지
- 관련 스크린샷
- 테스트 계획 또는 완료 사항


## 추가 PR 규칙
1. PR 한 개의 최대 코드 줄은 500줄
  리뷰 시간을 가볍고 피로감없이 진행하기 위해서 너무 많은 내용을 리뷰하지 않도록 진행합니다.    
  한 번 올리는 PR의 최대 코드 줄은 500줄로 제한합니다.
2. Merge는 "Squash and Merge" 방식으로 진행
3. Merge 전에 CI/CD 테스트 통과 필수
4. 코드 리뷰는 본인 파트 외 최소 1명 필수
   - PR 50줄 이하 : 본인 파트원 2명/1명 + 타 파트원 1명
   - PR 100 줄 이상 : 본인 파트원 2명 + 타 파트원 2명
   - 공통 모듈에 대한 수정 : 모든 파트원
  * 자동 리뷰어 등록 
  CODEOWNERS 를 사용하여 자동으로 리뷰어를 등록합니다. 
  ```md
  {원하는 파일/디렉토리} @{리뷰어 아이디}
  
  # example
  *.java @hyerinmiakim @hello @aflow
  /docs @allmember ..  
  ```
  @팀 별로 등록이 가능하니 추후 파트별로 팀을 설정하여 추가 가능합니다. 

<br>

# Commit Message 
## 커밋 메시지 템플릿 
```md
Feat: 로그인 기능 구현  -> 제목

새로고침 시 로그인 유지 기능 개발  -> 본문

Resolves: #67  -> 꼬리말
Ref: #64
Related to: #33, #34
```
### 제목 
----
* 제목과 본문을 한 줄 띄우고 콜론(:)으로 분리
* 제목은 영문 기준 50자 이내로 적기
* 영문 기준 동사(원형)을 가장 앞에 두기. (과거 시제를 사용하지 않기)
* 제목 첫글자를 대문자로 적기
* 제목 끝에 . 는 금지
* 제목은 명령어, 개조식으로 작성
* 타입 종류 (PR과 동일)

|타입|의미|
|------|---|
|feat|새로운 기능 추가|
|bug|버그 수정|
|docs|문서 관련 변경|
|style|코드 스타일 변경|
|refactor|리팩토링|
|test|테스트 코드 추가/수정|
|rename|파일 혹은 폴더명 수정, 디렉토리 이동|
|remove|파일 삭제|

### 본문
----
* 본문은 선택사항이지만 부연 설명이 필요한 경우 작성
* 72자를 넘기지 않게 작성
* 어떻게 변경했는지 보다 " 무엇을 변경했는지, 왜 변경했는지 "를 작성

### 꼬리말 
----
* issue ID 를 작성할 때 사용
* "유형 : #이슈 번호" 형식으로 작성

|유형|의미|
|------|---|
|Fixes|이슈 수정중|
|Resolves|이슈 해결했을 때 사용|
|Ref|참고 이슈가 있을 때 사용|
|Related to|관련 이슈 번호 (아직 해결되지 않은 경우)|
|refactor|리팩토링|
|test|테스트 코드 추가/수정|
|rename|파일 혹은 폴더명 수정, 디렉토리 이동|
|remove|파일 삭제|

### 추가 커밋 규칙 
- 한 커밋에 너무 많은 변경 사항 포함 금지




